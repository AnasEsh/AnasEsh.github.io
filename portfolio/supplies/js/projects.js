const radGroupName="moreRads";let pCount=0;const template='<div class="details"><section><h3 data-helper="type"><span data-helper="name"></span> </h3><p class="light techs" data-helper="techs"></p></section><video poster="supplies/img/loading.gif" autoplay loop muted playsinline></video><section class="radios"></section></div>',vidCbs=[];function composeSlide(e){let t=createHElement("div",null,["swiper-slide"],'<div class="details"><section><h3 data-helper="type"><span data-helper="name"></span> </h3><p class="light techs" data-helper="techs"></p></section><video poster="supplies/img/loading.gif" autoplay loop muted playsinline></video><section class="radios"></section></div>'.toString()),n=t.querySelector(".details"),i=n.querySelector(".radios");for(let l in e.more){let a=e.more[l],o=l+pCount.toString(),s=createHElement("input",{type:"radio",name:`${radGroupName}${pCount}`,id:o}),d=createHElement("label",{for:o},[],`<p class="tab-nail">${l}</p>`),p=createHElement("section",null,["tab-content"]);if(i.appendChild(s),i.appendChild(d),n.appendChild(p),Array.isArray(a)){let r=document.createElement("ul");a.forEach(e=>{r.appendChild(createHElement("li",null,[],e))}),p.appendChild(r)}else p.innerHTML=a}let c=t.querySelector("video");for(let u in replayOnEnd(c),c.onclick=()=>c.requestFullscreen(),vidCbs.push(()=>(c.src=e.vid,c)),delete e.more,e){let h=t.querySelector(`[data-helper=${u}]`);h&&(h.innerHTML+=e[u])}return e.cont&&(i.nextElementSibling.innerHTML=`<center><div class="contri"><h5>My Contribution:</h5><span>back-end: ${e.cont.b}</span><span>front-end: ${e.cont.f}</span></div></center>`+i.nextElementSibling.innerHTML),pCount++,t}async function loadMedia(e){if(await new Promise(e=>setTimeout(e,450)),mySwiper.activeIndex>e)return;let t=vidCbs[e]?.();t&&(t.oncanplaythrough=t=>{loadMedia(e+1)}),vidCbs[e]=null}async function getProjects(){let e=await fetch("https://dl.dropboxusercontent.com/scl/fi/2mt9kmreczph9uuccsx9n/portfolio.json?rlkey=q1s63fg6dn15u9rl5dec6rvhs&dl=0"),t=(e=(await e.json()).projects).map(e=>composeSlide(e));for(let n=0;n<2;n++)loadMedia(n);mySwiper.on("slideChange",function(e){loadMedia(e.activeIndex)}),mySwiper.appendSlide(t),linkNailsToTabs(),setTimeout(()=>{mySwiper.slideTo(1)},1500)}